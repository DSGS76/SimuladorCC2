/*
 * Búsquedas Internas - Estilos Específicos
 * Paleta de colores: Pastel, sobrios, grises y azules desvanecidos (estilo Word)
 */

/* ============================================
   Visualización de Estructuras
   ============================================ */
.estructura-container {
    min-height: 80px;
    max-height: 300px;
    overflow-y: auto;
}

/* Estructura Vertical para Búsqueda Secuencial */
.estructura-vertical {
    display: flex;
    flex-direction: column;
    gap: 0;
}

.clave-row {
    display: flex;
    align-items: center;
    border: 1px solid #D6DCE5;
    border-bottom: none;
    background: #FFFFFF;
    padding: 8px 12px;
    transition: all 0.3s ease;
    position: relative;
}

.clave-row:first-child {
    border-radius: 6px 6px 0 0;
}

.clave-row:last-child {
    border-bottom: 1px solid #D6DCE5;
    border-radius: 0 0 6px 6px;
}

.clave-row:only-child {
    border-radius: 6px;
    border-bottom: 1px solid #D6DCE5;
}

.clave-index-left {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 30px;
    height: 30px;
    background: linear-gradient(135deg, #5B9BD5 0%, #44546A 100%);
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
    margin-right: 12px;
}

.clave-valor-vertical {
    font-size: 1rem;
    font-weight: 600;
    color: #44546A;
    letter-spacing: 0.5px;
}

.clave-row:hover {
    border-color: #BDD7EE;
    background: #DEEBF7;
}

.clave-row:hover + .clave-row {
    border-top-color: #BDD7EE;
}

/* Estado: Buscando - Amarillo Pastel */
.clave-row.clave-buscando {
    background: #FFF2CC;
    border-color: #FFD966;
    animation: pulse 0.5s ease infinite;
}

.clave-row.clave-buscando .clave-valor-vertical,
.clave-row.clave-buscando .clave-index-left {
    color: #806000;
}

.clave-row.clave-buscando .clave-index-left {
    background: linear-gradient(135deg, #FFD966 0%, #BF9000 100%);
}

/* Estado: Encontrada - Verde Pastel */
.clave-row.clave-encontrada {
    background: #E2F0D9;
    border-color: #A9D18E;
}

.clave-row.clave-encontrada .clave-valor-vertical {
    color: #375623;
}

.clave-row.clave-encontrada .clave-index-left {
    background: linear-gradient(135deg, #A9D18E 0%, #70AD47 100%);
}

/* Estado: Insertando - Azul Pastel */
.clave-row.clave-insertando {
    background: #DEEBF7;
    border-color: #BDD7EE;
    animation: slideIn 0.4s ease;
}

/* Estado: Insertada - Verde Pastel */
.clave-row.clave-insertada {
    background: #E2F0D9;
    border-color: #A9D18E;
    animation: highlight 0.5s ease;
}

/* Espacio vacío en Hash (indicador de posiciones intermedias) */
.hash-espacio-vacio {
    background: #F8F9FA;
    border-style: dashed;
    opacity: 0.7;
}

.hash-espacio-vacio .clave-index-left {
    background: linear-gradient(135deg, #ADB5BD 0%, #6C757D 100%);
    font-size: 0.65rem;
}

.hash-espacio-vacio:hover {
    background: #F8F9FA;
    border-color: #D6DCE5;
}

/* Puntos suspensivos en Hash (entre primer y último elemento) */
.hash-ellipsis {
    background: transparent;
    border: none;
    border-left: 1px solid #D6DCE5;
    border-right: 1px solid #D6DCE5;
    padding: 4px 12px 4px 54px; /* 54px = 30px círculo + 12px margin-right + 12px padding */
}

.hash-ellipsis .clave-valor-vertical {
    font-size: 1.5rem;
    letter-spacing: 3px;
    color: #8497B0;
}

.hash-ellipsis:hover {
    background: transparent;
    border-color: #D6DCE5;
}

/* Puntos suspensivos en Lista Enlazada */
.lista-ellipsis {
    background: transparent;
}

.lista-ellipsis .lista-celda-principal {
    border: none;
    border-left: 1px solid #D6DCE5;
    border-right: 1px solid #D6DCE5;
    padding-left: 54px; /* Alinear con el contenido de las celdas normales */
}

.lista-ellipsis .lista-valor-principal {
    font-size: 1.5rem;
    letter-spacing: 3px;
    color: #8497B0;
}

.lista-ellipsis:hover .lista-celda-principal {
    background: transparent;
    border-color: #D6DCE5;
}

.clave-row.clave-moviendo {
    animation: moveDown 0.4s ease;
}

/* Estado: Eliminando - Naranja/Rojo Pastel */
.clave-row.clave-eliminando {
    background: #FCE4D6;
    border-color: #F4B183;
    animation: fadeOut 0.5s ease forwards;
}

.clave-row.clave-eliminando .clave-valor-vertical {
    color: #843C0C;
}

.clave-row.clave-eliminando .clave-index-left {
    background: linear-gradient(135deg, #F4B183 0%, #C65911 100%);
}

@keyframes moveDown {
    0% {
        transform: translateY(-10px);
        opacity: 0.7;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Estructura Horizontal Continua para Búsqueda Binaria */
.estructura-horizontal {
    display: flex;
    flex-wrap: wrap;
}

.clave-box {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 55px;
    height: 65px;
    padding: 5px 10px;
    background: #FFFFFF;
    border: 1px solid #D6DCE5;
    border-right: none;
    font-weight: 600;
    font-size: 1rem;
    color: #44546A;
    transition: all 0.3s ease;
    position: relative;
}

.clave-box:first-child {
    border-radius: 6px 0 0 6px;
}

.clave-box:last-child {
    border-right: 1px solid #D6DCE5;
    border-radius: 0 6px 6px 0;
}

.clave-box:only-child {
    border-radius: 6px;
    border-right: 1px solid #D6DCE5;
}

.clave-index {
    font-size: 0.65rem;
    color: #8497B0;
    font-weight: 500;
    margin-bottom: 2px;
}

.clave-valor {
    font-size: 1rem;
    font-weight: 600;
    color: #44546A;
}

.clave-box:hover {
    border-color: #BDD7EE;
    background: #DEEBF7;
    z-index: 1;
}

.clave-box:hover + .clave-box {
    border-left-color: #BDD7EE;
}

/* Estado: Buscando */
.clave-buscando {
    background: #FFF2CC !important;
    border-color: #FFD966 !important;
    animation: pulse 0.5s ease infinite;
}

.clave-buscando .clave-valor,
.clave-buscando .clave-index {
    color: #806000;
}

/* Estado: Encontrada */
.clave-encontrada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
}

.clave-encontrada .clave-valor,
.clave-encontrada .clave-index {
    color: #375623;
}

/* Estado: Descartada */
.clave-descartada,
.clave-descartado {
    background: #F2F2F2;
    border-color: #D6DCE5;
    opacity: 0.5;
}

.clave-descartada .clave-valor,
.clave-descartada .clave-index,
.clave-descartado .clave-valor,
.clave-descartado .clave-index {
    color: #8497B0;
}

/* Estado: Insertando */
.clave-insertando {
    background: #DEEBF7 !important;
    border-color: #BDD7EE !important;
    animation: slideIn 0.4s ease;
}

/* Estado: Insertada */
.clave-insertada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
    animation: highlight 0.5s ease;
}

.clave-moviendo {
    animation: moveRight 0.4s ease;
}

/* Estado: Eliminando */
.clave-eliminando {
    background: #FCE4D6 !important;
    border-color: #F4B183 !important;
    animation: fadeOut 0.5s ease forwards;
}

.clave-eliminando .clave-valor,
.clave-eliminando .clave-index {
    color: #843C0C;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

@keyframes slideIn {
    0% {
        opacity: 0;
        transform: translateY(-15px) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes highlight {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.08);
    }
}

@keyframes moveRight {
    0% {
        transform: translateX(-10px);
        opacity: 0.7;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fadeOut {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(0.5);
    }
}

/* ============================================
   Estilos para Búsqueda Hash
   ============================================ */

/* Estilos de fila hash (reutiliza clave-row) */
.hash-row {
    min-height: 45px;
}

/* ============================================
   Matriz Hash (Arreglos Anidados)
   ============================================ */
.matriz-hash-container {
    overflow-x: auto;
}

.tabla-matriz-hash {
    border-collapse: collapse;
    width: 100%;
    max-width: 100%;
}

.tabla-matriz-hash th,
.tabla-matriz-hash td {
    border: 1px solid #D6DCE5;
    text-align: center;
    padding: 8px;
    min-width: 45px;
    height: 45px;
}

.matriz-header {
    background: linear-gradient(135deg, #5B9BD5 0%, #44546A 100%);
    color: white;
    font-weight: 600;
    font-size: 0.8rem;
}

.matriz-index {
    background: linear-gradient(135deg, #5B9BD5 0%, #44546A 100%);
    color: white;
    font-weight: 600;
    font-size: 0.8rem;
    min-width: 40px;
}

.matriz-celda {
    transition: all 0.3s ease;
    font-weight: 600;
    font-size: 0.85rem;
}

.matriz-vacia {
    background: #F2F2F2;
    color: #8497B0;
}

.matriz-ocupada {
    background: #FFFFFF;
    color: #44546A;
}

.matriz-celda:hover {
    background: #DEEBF7;
}

.matriz-buscando {
    background: #FFF2CC !important;
    border-color: #FFD966 !important;
    animation: pulse 0.5s ease infinite;
}

.matriz-encontrada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
    color: #375623 !important;
}

.matriz-insertada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
    animation: highlight 0.5s ease;
}

.matriz-eliminando {
    background: #FCE4D6 !important;
    border-color: #F4B183 !important;
    animation: fadeOut 0.5s ease forwards;
}

/* ============================================
   Lista Enlazada Hash
   ============================================ */
.lista-enlazada-container {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.lista-fila {
    display: flex;
    align-items: center;
    gap: 0;
    transition: all 0.3s ease;
}

.lista-index {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #5B9BD5 0%, #44546A 100%);
    border-radius: 6px 0 0 6px;
    font-size: 0.85rem;
    font-weight: 600;
    color: white;
    margin-right: 0;
}

.lista-contenido {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 0;
    min-height: 40px;
    padding: 5px 10px;
    background: #F2F2F2;
    border: 1px solid #D6DCE5;
    border-left: none;
    border-radius: 0 6px 6px 0;
    flex-grow: 1;
}

.lista-nodo {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 50px;
    height: 32px;
    padding: 0 10px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s ease;
}

.lista-vacia,
.lista-null {
    background: #F2F2F2;
    color: #8497B0;
    font-style: italic;
    font-weight: 400;
}

.lista-ocupada {
    background: #FFFFFF;
    border: 1px solid #D6DCE5;
    color: #44546A;
}

.lista-ocupada:hover {
    border-color: #BDD7EE;
    background: #DEEBF7;
}

.lista-flecha {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #5B9BD5;
    font-weight: bold;
    padding: 0 5px;
}

.lista-buscando {
    background: #FFF2CC !important;
    border-color: #FFD966 !important;
    color: #806000 !important;
    animation: pulse 0.5s ease infinite;
}

.lista-encontrada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
    color: #375623 !important;
}

.lista-insertada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
    animation: slideIn 0.4s ease;
}

.lista-eliminando {
    background: #FCE4D6 !important;
    border-color: #F4B183 !important;
    color: #843C0C !important;
    animation: fadeOut 0.5s ease forwards;
}

.lista-fila.lista-buscando {
    background: #FFF2CC;
}

.lista-fila.lista-buscando .lista-contenido {
    border-color: #FFD966;
}

/* ============================================
   Lista Enlazada Vertical (Nueva estructura)
   ============================================ */
.lista-enlazada-vertical {
    display: flex;
    flex-direction: column;
    gap: 0;
}

.lista-fila-vertical {
    display: flex;
    align-items: center;
    gap: 0;
}

.lista-celda-principal {
    display: flex;
    align-items: center;
    border: 1px solid #D6DCE5;
    border-bottom: none;
    background: #FFFFFF;
    padding: 8px 12px;
    transition: all 0.3s ease;
    min-width: 120px;
}

.lista-fila-vertical:first-child .lista-celda-principal {
    border-radius: 6px 6px 0 0;
}

.lista-fila-vertical:last-child .lista-celda-principal {
    border-bottom: 1px solid #D6DCE5;
    border-radius: 0 0 6px 6px;
}

.lista-fila-vertical:only-child .lista-celda-principal {
    border-radius: 6px;
    border-bottom: 1px solid #D6DCE5;
}

.lista-valor-principal {
    font-size: 1rem;
    font-weight: 600;
    color: #44546A;
    letter-spacing: 0.5px;
    min-width: 50px;
}

.lista-celda-principal:hover {
    border-color: #BDD7EE;
    background: #DEEBF7;
}

/* Nodos enlazados externos */
.lista-nodos-enlazados {
    display: flex;
    align-items: center;
    margin-left: 10px;
}

.lista-flecha-externa {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    color: #5B9BD5;
    font-weight: bold;
    padding: 0 8px;
}

.lista-nodo-externo {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 50px;
    height: 38px;
    padding: 0 12px;
    background: #FFFFFF;
    border: 1px solid #5B9BD5;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.9rem;
    color: #44546A;
    transition: all 0.3s ease;
}

.lista-nodo-externo:hover {
    background: #DEEBF7;
}

/* Estados para lista enlazada vertical */
.lista-celda-principal.lista-buscando,
.lista-nodo-externo.lista-buscando {
    background: #FFF2CC !important;
    border-color: #FFD966 !important;
    animation: pulse 0.5s ease infinite;
}

.lista-celda-principal.lista-buscando .lista-valor-principal,
.lista-celda-principal.lista-buscando .clave-index-left {
    color: #806000;
}

.lista-celda-principal.lista-buscando .clave-index-left {
    background: linear-gradient(135deg, #FFD966 0%, #BF9000 100%);
}

.lista-celda-principal.lista-encontrada,
.lista-nodo-externo.lista-encontrada {
    background: #C6EFCE !important;
    border-color: #70AD47 !important;
}

.lista-celda-principal.lista-encontrada .lista-valor-principal {
    color: #1D6B2F;
}

.lista-celda-principal.lista-encontrada .clave-index-left {
    background: linear-gradient(135deg, #70AD47 0%, #375623 100%);
}

.lista-celda-principal.lista-insertada,
.lista-nodo-externo.lista-insertada {
    background: #E2F0D9 !important;
    border-color: #A9D18E !important;
    animation: slideIn 0.4s ease;
}

.lista-celda-principal.lista-eliminando,
.lista-nodo-externo.lista-eliminando {
    background: #FCE4D6 !important;
    border-color: #F4B183 !important;
    animation: fadeOut 0.5s ease forwards;
}

.lista-celda-principal.lista-eliminando .lista-valor-principal {
    color: #843C0C;
}

.lista-celda-principal.lista-eliminando .clave-index-left {
    background: linear-gradient(135deg, #F4B183 0%, #C65911 100%);
}

